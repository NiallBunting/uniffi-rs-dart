{%- let inner_ffi_converter = inner_type|ffi_converter_name %}
{%- let inner_type_name = inner_type|type_name %}

// Generated by SequenceTemplate
class {{ ffi_converter_name}} extends _UniffiConverterRustBuffer<List<{{inner_type_name}}>> {

  read(_UniffiRustBufferBuilder buf) {
        var count = buf.read_i32();
        if (count < 0) {
            throw "Unexpected negative sequence length";
        }

        List<{{ inner_type_name }}> list = [];

        for (var i = 0; i < count; i++) {
          var item = {{ inner_ffi_converter }}().read(buf);
          list.add(item);
        }

        return list;
  }

    write(_UniffiRustBufferBuilder buf, value) {
        //buf.data.cast<Int16> = value;
        Pointer<_UniffiRustBuffer> _rustBuffer = calloc<_UniffiRustBuffer >();
        return _rustBuffer.ref.buffer;
    }
}
